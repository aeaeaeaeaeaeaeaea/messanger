<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">

<head>



	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

</head>

<body>

	

	<form class="rounded-form" action="/users" method="GET">
		<input type="text" name="userName" />
		<button type="submit" id="save-button">Save</button>
	</form>

	<div th:if="${searchElasticUser == null}">

		<div th:if="${!chatList.isEmpty()}">

			<div th:each="chatRoom : ${chatList}">

				<a th:href="@{/chat/{chatId}(chatId = ${chatRoom.getId()})}" th:text="${chatRoom.getId()}"
					class="chat-link">Text</a>

			</div>

			<!-- Модальное окно -->
			<div class="modal" id="myModal" style="display: none;">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Действия с чатом</h5>
							<button type="button" class="close" data-dismiss="modal">&times;</button>
						</div>
						<div class="modal-body">
							<p>Выберите действие:</p>
							<button id="deleteButton" class="btn btn-danger">Удалить чат</button>
							<button id="editButton" class="btn btn-primary">Очистить сообщения</button>
						</div>
					</div>
				</div>
			</div>



		</div>

		<div th:if="${chatList.isEmpty()}">

			<div th:each="user : ${users}">

				<div th:if="${user.getId() != currentUser}">

					<a class="start-chat" id="chat" th:userId="${user.getId()}" th:currentUser="${currentUser}"
						th:text="${user.getUsername()} + ' ' + ${user.getId()}">text</a>

				</div>

			</div>

		</div>

	</div>



	<div th:if="${searchElasticUser != null}">

		<div th:each="user : ${searchElasticUser}">

			<div th:if="${user.getId() != currentUser}">

				<a class="start-chat" id="chat" th:userId="${user.getId()}" th:currentUser="${currentUser}"
					th:text="${user.getUserName()} + ' ' + ${user.getId()}">text</a>

			</div>

		</div>

	</div>

	<script src="/js/chatScripts/ChatDelete.js"></script>

	<script src="/js/chatScripts/ChatCreate.js"></script>


</body>

</html>